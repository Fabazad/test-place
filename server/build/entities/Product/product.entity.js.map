{"version":3,"file":"product.entity.js","sources":["entities/Product/product.entity.ts"],"sourceRoot":"/","sourcesContent":["import { UserWithoutPassword } from \"@/entities/User/user.entity.js\";\nimport { savedDataSchema } from \"@/utils/savedDataSchema.js\";\nimport z from \"zod\";\n\nexport const PRODUCT_CATEGORIES = [\n  \"pet-shop\",\n  \"auto-moto\",\n  \"baggage\",\n  \"beauty-perfume\",\n  \"jewelry\",\n  \"housing\",\n  \"baby\",\n  \"shoes-bags\",\n  \"kitchen-house\",\n  \"grocery\",\n  \"office-supplies\",\n  \"appliances\",\n  \"electronics\",\n  \"higiene-health\",\n  \"computeur-science\",\n  \"music\",\n  \"garden\",\n  \"games\",\n  \"video-games\",\n  \"lights\",\n  \"mode\",\n  \"watch\",\n  \"sports\",\n  \"cloths\",\n] as const;\n\nexport const productDataSchema = z.object({\n  asin: z.string(),\n  title: z.string(),\n  price: z.number().min(0),\n  finalPrice: z.number().min(0),\n  description: z.string(),\n  isPrime: z.boolean(),\n  maxDemands: z.number().min(0),\n  automaticAcceptance: z.boolean(),\n  imageUrls: z.array(z.string()),\n  category: z.enum(PRODUCT_CATEGORIES).optional(),\n  seller: z.string({ description: \"User\" }),\n  amazonSeller: z.object({\n    name: z.string(),\n    url: z.string(),\n  }),\n  publishDate: z.date().optional(),\n  publishExpirationDate: z.date().nullish(),\n  keywords: z.array(z.string()).optional(),\n  privateNote: z.string().optional(),\n  remainingTestsCount: z.number(),\n});\n\nexport type ProductData = z.infer<typeof productDataSchema>;\n\nexport const productSchema = productDataSchema\n  .extend(savedDataSchema)\n  .extend({ amazonUrl: z.string() });\nexport type Product = z.infer<typeof productSchema>;\n\nexport type PopulatedProduct = Omit<Product, \"seller\"> & { seller: UserWithoutPassword };\n"],"names":[],"mappings":";;AACA,OAAO,EAAE,eAAe,EAAE,MAAM,4BAA4B,CAAC;AAC7D,OAAO,CAAC,MAAM,KAAK,CAAC;AAEpB,MAAM,CAAC,MAAM,kBAAkB,GAAG;IAChC,UAAU;IACV,WAAW;IACX,SAAS;IACT,gBAAgB;IAChB,SAAS;IACT,SAAS;IACT,MAAM;IACN,YAAY;IACZ,eAAe;IACf,SAAS;IACT,iBAAiB;IACjB,YAAY;IACZ,aAAa;IACb,gBAAgB;IAChB,mBAAmB;IACnB,OAAO;IACP,QAAQ;IACR,OAAO;IACP,aAAa;IACb,QAAQ;IACR,MAAM;IACN,OAAO;IACP,QAAQ;IACR,QAAQ;CACA,CAAC;AAEX,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,CAAC,MAAM,CAAC;IACxC,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE;IAChB,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE;IACjB,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACxB,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7B,WAAW,EAAE,CAAC,CAAC,MAAM,EAAE;IACvB,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE;IACpB,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7B,mBAAmB,EAAE,CAAC,CAAC,OAAO,EAAE;IAChC,SAAS,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;IAC9B,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,QAAQ,EAAE;IAC/C,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;IACzC,YAAY,EAAE,CAAC,CAAC,MAAM,CAAC;QACrB,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE;QAChB,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;KAChB,CAAC;IACF,WAAW,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;IAChC,qBAAqB,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE;IACzC,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;IACxC,WAAW,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAClC,mBAAmB,EAAE,CAAC,CAAC,MAAM,EAAE;CAChC,CAAC,CAAC;AAIH,MAAM,CAAC,MAAM,aAAa,GAAG,iBAAiB;KAC3C,MAAM,CAAC,eAAe,CAAC;KACvB,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC","debug_id":"0d4ec4e7-0225-5447-94be-e06d995e72dc"}