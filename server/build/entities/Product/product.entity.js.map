{"version":3,"file":"product.entity.js","sources":["entities/Product/product.entity.ts"],"sourceRoot":"/","sourcesContent":["import { UserWithoutPassword } from \"@/entities/User/user.entity.js\";\nimport { savedDataSchema } from \"@/utils/savedDataSchema.js\";\nimport z from \"zod\";\n\nexport const PRODUCT_CATEGORIES = [\n  \"aps\",\n  \"alexa-skills\",\n  \"amazon-global-store\",\n  \"warehouse-deals\",\n  \"pets\",\n  \"amazon-devices\",\n  \"mobile-apps\",\n  \"automotive\",\n  \"fashion-luggage\",\n  \"beauty\",\n  \"luxury-beauty\",\n  \"gift-cards\",\n  \"digital-text\",\n  \"diy\",\n  \"baby\",\n  \"kitchen\",\n  \"dvd\",\n  \"grocery\",\n  \"office-products\",\n  \"appliances\",\n  \"handmade\",\n  \"electronics\",\n  \"hpc\",\n  \"computers\",\n  \"mi\",\n  \"garden\",\n  \"toys\",\n  \"videogames\",\n  \"stripbooks\",\n  \"audible\",\n  \"software\",\n  \"lighting\",\n  \"luxury\",\n  \"fashion\",\n  \"fashion-womens\",\n  \"fashion-mens\",\n  \"fashion-girls\",\n  \"fashion-boys\",\n  \"fashion-baby\",\n  \"under-ten-dollars\",\n  \"monoprix\",\n  \"popular\",\n  \"classical\",\n  \"instant-video\",\n  \"specialty-aps-sns\",\n  \"industrial\",\n  \"sports\",\n  \"digital-music\",\n  \"todays-deals\",\n] as const;\n\nexport const productDataSchema = z.object({\n  asin: z.string(),\n  title: z.string(),\n  price: z.number().min(0),\n  finalPrice: z.number().min(0),\n  description: z.string(),\n  isPrime: z.boolean(),\n  maxDemands: z.number().min(0),\n  automaticAcceptance: z.boolean(),\n  imageUrls: z.array(z.string()),\n  category: z.enum(PRODUCT_CATEGORIES).optional(),\n  seller: z.string({ description: \"User\" }),\n  amazonSeller: z\n    .object({\n      name: z.string(),\n      url: z.string(),\n    })\n    .optional(),\n  amazonMerchantId: z.string().optional(),\n  publishDate: z.date().optional(),\n  publishExpirationDate: z.date().nullish(),\n  keywords: z.array(z.string()).optional(),\n  privateNote: z.string().optional(),\n  remainingTestsCount: z.number(),\n  inputUrl: z.string().optional(),\n});\n\nexport type ProductData = z.infer<typeof productDataSchema>;\n\nexport const productSchema = productDataSchema\n  .extend(savedDataSchema)\n  .extend({ amazonUrl: z.string() });\nexport type Product = z.infer<typeof productSchema>;\n\nexport type PopulatedProduct = Omit<Product, \"seller\"> & { seller: UserWithoutPassword };\n"],"names":[],"mappings":";;AACA,OAAO,EAAE,eAAe,EAAE,MAAM,4BAA4B,CAAC;AAC7D,OAAO,CAAC,MAAM,KAAK,CAAC;AAEpB,MAAM,CAAC,MAAM,kBAAkB,GAAG;IAChC,KAAK;IACL,cAAc;IACd,qBAAqB;IACrB,iBAAiB;IACjB,MAAM;IACN,gBAAgB;IAChB,aAAa;IACb,YAAY;IACZ,iBAAiB;IACjB,QAAQ;IACR,eAAe;IACf,YAAY;IACZ,cAAc;IACd,KAAK;IACL,MAAM;IACN,SAAS;IACT,KAAK;IACL,SAAS;IACT,iBAAiB;IACjB,YAAY;IACZ,UAAU;IACV,aAAa;IACb,KAAK;IACL,WAAW;IACX,IAAI;IACJ,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,YAAY;IACZ,SAAS;IACT,UAAU;IACV,UAAU;IACV,QAAQ;IACR,SAAS;IACT,gBAAgB;IAChB,cAAc;IACd,eAAe;IACf,cAAc;IACd,cAAc;IACd,mBAAmB;IACnB,UAAU;IACV,SAAS;IACT,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,YAAY;IACZ,QAAQ;IACR,eAAe;IACf,cAAc;CACN,CAAC;AAEX,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,CAAC,MAAM,CAAC;IACxC,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE;IAChB,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE;IACjB,KAAK,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IACxB,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7B,WAAW,EAAE,CAAC,CAAC,MAAM,EAAE;IACvB,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE;IACpB,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7B,mBAAmB,EAAE,CAAC,CAAC,OAAO,EAAE;IAChC,SAAS,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;IAC9B,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,QAAQ,EAAE;IAC/C,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC;IACzC,YAAY,EAAE,CAAC;SACZ,MAAM,CAAC;QACN,IAAI,EAAE,CAAC,CAAC,MAAM,EAAE;QAChB,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;KAChB,CAAC;SACD,QAAQ,EAAE;IACb,gBAAgB,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACvC,WAAW,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;IAChC,qBAAqB,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE;IACzC,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;IACxC,WAAW,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IAClC,mBAAmB,EAAE,CAAC,CAAC,MAAM,EAAE;IAC/B,QAAQ,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAChC,CAAC,CAAC;AAIH,MAAM,CAAC,MAAM,aAAa,GAAG,iBAAiB;KAC3C,MAAM,CAAC,eAAe,CAAC;KACvB,MAAM,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC","debug_id":"2db331cf-820b-5121-a948-51f7a0fcf337"}