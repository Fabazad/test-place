{"version":3,"file":"index.js","sources":["libs/AmazonClient/scrapperProductHelpers/index.ts"],"sourceRoot":"/","sourcesContent":["import { configs } from \"@/configs.js\";\nimport axios from \"axios-https-proxy-fix\";\nimport cheerio from \"cheerio\";\nimport { AmazonClient } from \"../type.js\";\nimport { getCategory } from \"./getCategory.js\";\nimport { getDescription } from \"./getDescription.js\";\nimport { getImages } from \"./getImages.js\";\nimport { getIsPrime } from \"./getIsPrime.js\";\nimport { getPrice } from \"./getPrice.js\";\nimport { getSeller } from \"./getSeller.js\";\nimport { getTitle } from \"./getTitle.js\";\n\nexport const getAmazonProductDetails: AmazonClient[\"getAmazonProductDetails\"] = async ({\n  asin,\n  amazonMerchantId,\n}) => {\n  const url = `https://www.amazon.fr/dp/${asin}${\n    amazonMerchantId ? `?m=${amazonMerchantId}` : \"\"\n  }`;\n\n  const request = await axios.default.get<string>(url, {\n    proxy: {\n      host: configs.PROXY_HOST,\n      port: configs.PROXY_PORT,\n      auth: {\n        username: configs.PROXY_USERNAME,\n        password: configs.PROXY_PASSWORD,\n      },\n    },\n  });\n\n  const $ = cheerio.load(request.data);\n\n  const scrapRes = {\n    title: getTitle($),\n    price: getPrice($),\n    description: getDescription($),\n    isPrime: getIsPrime($),\n    category: getCategory($),\n    seller: getSeller($),\n    imageUrls: getImages($),\n  };\n\n  return { success: true, data: scrapRes };\n};\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AACvC,OAAO,KAAK,MAAM,uBAAuB,CAAC;AAC1C,OAAO,OAAO,MAAM,SAAS,CAAC;AAE9B,OAAO,EAAE,WAAW,EAAE,MAAM,kBAAkB,CAAC;AAC/C,OAAO,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AACrD,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAC7C,OAAO,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;AACzC,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAE,QAAQ,EAAE,MAAM,eAAe,CAAC;AAEzC,MAAM,CAAC,MAAM,uBAAuB,GAA4C,KAAK,EAAE,EACrF,IAAI,EACJ,gBAAgB,GACjB,EAAE,EAAE;IACH,MAAM,GAAG,GAAG,4BAA4B,IAAI,GAC1C,gBAAgB,CAAC,CAAC,CAAC,MAAM,gBAAgB,EAAE,CAAC,CAAC,CAAC,EAChD,EAAE,CAAC;IAEH,MAAM,OAAO,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,GAAG,CAAS,GAAG,EAAE;QACnD,KAAK,EAAE;YACL,IAAI,EAAE,OAAO,CAAC,UAAU;YACxB,IAAI,EAAE,OAAO,CAAC,UAAU;YACxB,IAAI,EAAE;gBACJ,QAAQ,EAAE,OAAO,CAAC,cAAc;gBAChC,QAAQ,EAAE,OAAO,CAAC,cAAc;aACjC;SACF;KACF,CAAC,CAAC;IAEH,MAAM,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAErC,MAAM,QAAQ,GAAG;QACf,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;QAClB,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC;QAClB,WAAW,EAAE,cAAc,CAAC,CAAC,CAAC;QAC9B,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC;QACtB,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC;QACxB,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC;QACpB,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;KACxB,CAAC;IAEF,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;AAC3C,CAAC,CAAC","debug_id":"32cd9401-ba88-5bab-9d03-c60e38a498cc"}