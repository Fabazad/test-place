{"version":3,"file":"errorHandler.js","sources":["utils/errorHandler.ts"],"sourceRoot":"/","sourcesContent":["/* eslint-disable no-nested-ternary */\nimport { Express, Request, Response } from \"express\";\nimport { NextFunction } from \"express-serve-static-core\";\nimport { HttpRequestError } from \"./exceptions/HttpRequestError.js\";\n\nexport const errorHandler = ({ app }: { app: Express }): void => {\n  app.use((err: Error, req: Request, res: Response, next: NextFunction) => {\n    if (err instanceof HttpRequestError) {\n      return res.status(err.status).send({ code: err.code, message: err.message });\n    }\n    console.error(\"Uncaught error\", err);\n    return res\n      .status(500)\n      .send({ code: \"internal-error\", message: err.message || \"Internal error\" });\n  });\n};\n"],"names":[],"mappings":";;AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,kCAAkC,CAAC;AAEpE,MAAM,CAAC,MAAM,YAAY,GAAG,CAAC,EAAE,GAAG,EAAoB,EAAQ,EAAE;IAC9D,GAAG,CAAC,GAAG,CAAC,CAAC,GAAU,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;QACtE,IAAI,GAAG,YAAY,gBAAgB,EAAE,CAAC;YACpC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;QAC/E,CAAC;QACD,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;QACrC,OAAO,GAAG;aACP,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,gBAAgB,EAAE,CAAC,CAAC;IAChF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","debug_id":"3de4a38f-a85a-58b0-9aaa-283f12cd0b44"}