{"version":3,"file":"emailLastPublishedProducts.cli.js","sources":["cli/emailLastPublishedProducts.cli.ts"],"sourceRoot":"/","sourcesContent":["import { configs } from \"@/configs.js\";\nimport { ProductController } from \"@/controllers/product.controller.js\";\nimport { getMonitoringClient } from \"@/libs/MonitoringClient/index.js\";\n\nconst emailLastPublishedProducts = async () => {\n  const monitoringClient = getMonitoringClient();\n  console.log(\"Yeaaah\");\n\n  try {\n    const res = await ProductController.emailLastPublishedProducts({\n      frontendUrl: configs.FRONTEND_URL,\n      lastPublishedProductsPeriodInDays: configs.LAST_PUBLISHED_PRODUCTS_PERIOD_IN_DAYS,\n    });\n\n    console.log(res.data);\n  } catch (err: any) {\n    monitoringClient.sendEvent({\n      level: \"error\",\n      eventName: \"email_last_published_products\",\n      data: {\n        message: `[${err.code}] ${err.message}`,\n      },\n    });\n  }\n};\n\nemailLastPublishedProducts();\n"],"names":[],"mappings":";;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AACvC,OAAO,EAAE,iBAAiB,EAAE,MAAM,qCAAqC,CAAC;AACxE,OAAO,EAAE,mBAAmB,EAAE,MAAM,kCAAkC,CAAC;AAEvE,MAAM,0BAA0B,GAAG,KAAK,IAAI,EAAE;IAC5C,MAAM,gBAAgB,GAAG,mBAAmB,EAAE,CAAC;IAC/C,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAEtB,IAAI,CAAC;QACH,MAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,0BAA0B,CAAC;YAC7D,WAAW,EAAE,OAAO,CAAC,YAAY;YACjC,iCAAiC,EAAE,OAAO,CAAC,sCAAsC;SAClF,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACxB,CAAC;IAAC,OAAO,GAAQ,EAAE,CAAC;QAClB,gBAAgB,CAAC,SAAS,CAAC;YACzB,KAAK,EAAE,OAAO;YACd,SAAS,EAAE,+BAA+B;YAC1C,IAAI,EAAE;gBACJ,OAAO,EAAE,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,OAAO,EAAE;aACxC;SACF,CAAC,CAAC;IACL,CAAC;AACH,CAAC,CAAC;AAEF,0BAA0B,EAAE,CAAC","debug_id":"447efda7-6091-5258-ba92-bf627530a042"}